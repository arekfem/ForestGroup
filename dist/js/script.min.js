"use strict";var nav=document.querySelector(".nav__items"),navBtn=document.querySelector(".burger-btn"),allNavItems=document.querySelectorAll(".nav__item"),navHeight=document.querySelector(".nav"),scrollSpySections=document.querySelectorAll(".section"),footerYear=document.querySelector(".footer__year"),burgerBars=document.querySelector(".burger-btn__bars"),burgerBarsCancel=document.querySelector(".burger-btn__bars-cancel"),userName=document.querySelector("#name"),userEmail=document.querySelector("#email"),userMsg=document.querySelector("#msg"),formSendBtn=document.querySelector(".contact__form-btn"),popupContact=document.querySelector(".contact__popup"),closeBtnPopup=document.querySelector(".contact__popup-close"),html=document.querySelector("html"),handleNav=(html.style.scrollPaddingTop=navHeight.offsetHeight-2+"px",function(){nav.classList.toggle("nav--active"),document.body.classList.toggle("sticky-body"),burgerBars.classList.toggle("hide-btn"),burgerBarsCancel.classList.toggle("show-btn"),allNavItems.forEach(function(e){e.addEventListener("click",function(){nav.classList.remove("nav--active"),burgerBars.classList.remove("hide-btn"),burgerBarsCancel.classList.remove("show-btn"),document.body.classList.remove("sticky-body")})})}),homeSection=function(){var t=[];scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-navHeight.offsetHeight&&(t.push(e),document.querySelector('[href*="'.concat(t[0].id,'"]')).classList.add("scroll-spy-active"))})},handleScrollSpyStart=function(){allNavItems.forEach(function(e){e.classList.remove("scroll-spy-active")}),document.body.classList.contains("main-page")?homeSection():document.body.classList.contains("offers-page")?allNavItems[2].classList.add("scroll-spy-active"):document.body.classList.contains("contact-page")&&allNavItems[3].classList.add("scroll-spy-active")},handleScrollSpy=function(){document.body.classList.contains("main-page")&&(allNavItems.forEach(function(e){e.classList.remove("scroll-spy-active")}),homeSection())},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},showError=function(e,t){var e=e.parentElement,o=e.querySelector(".contact__form-box-error-text");e.classList.add("error"),o.textContent=t},clearError=function(e){e.parentElement.classList.remove("error")},clearInputs=function(e){e.forEach(function(e){e.value=""})},checkFrom=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})},checkLength=function(e,t){0<e.value.length&&e.value.length<t&&(showError(e,"".concat(e.previousElementSibling.innerText.slice(0,-1)," powinno składać się z min. ").concat(t," liter.")),showError(userMsg,"".concat(userMsg.previousElementSibling.innerText.slice(0,-1)," powinna zawierać min. ").concat(t," znaki.")))},checkMail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")},checkErrors=function(){var e=document.querySelectorAll(".contact__form-box"),t=0;e.forEach(function(e){e.classList.contains("error")&&t++}),0===t&&popupContact.classList.add("contact__popup-show")},closePopup=function(){popupContact.classList.remove("contact__popup-show")};handleCurrentYear(),window.addEventListener("load",handleScrollSpyStart),navBtn.addEventListener("click",handleNav),window.addEventListener("scroll",handleScrollSpy),formSendBtn.addEventListener("click",function(e){e.preventDefault(),checkFrom([userName,userEmail,userMsg]),checkLength(userName,2),checkMail(userEmail),checkLength(userMsg,3),checkErrors(),clearInputs([userName,userEmail,userMsg])}),closeBtnPopup.addEventListener("click",closePopup);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJuYXYiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZCdG4iLCJhbGxOYXZJdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZIZWlnaHQiLCJzY3JvbGxTcHlTZWN0aW9ucyIsImZvb3RlclllYXIiLCJidXJnZXJCYXJzIiwiYnVyZ2VyQmFyc0NhbmNlbCIsInVzZXJOYW1lIiwidXNlckVtYWlsIiwidXNlck1zZyIsImZvcm1TZW5kQnRuIiwicG9wdXBDb250YWN0IiwiY2xvc2VCdG5Qb3B1cCIsImh0bWwiLCJjbGFzc0xpc3QiLCJzdHlsZSIsInNjcm9sbFBhZGRpbmdUb3AiLCJvZmZzZXRIZWlnaHQiLCJ0b2dnbGUiLCJmb3JFYWNoIiwiaXRlbSIsInJlbW92ZSIsImJvZHkiLCJzZWN0aW9ucyIsInNjcm9sbFkiLCJhY3RpdmVTZWN0aW9uIiwid2luZG93Iiwic2VjdGlvbiIsIm9mZnNldFRvcCIsImhhbmRsZVNjcm9sbFNweVN0YXJ0IiwiY29uY2F0IiwiaWQiLCJoYW5kbGVTY3JvbGxTcHkiLCJjb250YWlucyIsImhvbWVTZWN0aW9uIiwiYWRkIiwiaGFuZGxlQ3VycmVudFllYXIiLCJzaG93RXJyb3IiLCJpbnB1dCIsInBhcmVudEVsZW1lbnQiLCJmb3JtQm94IiwiZXJyb3JNc2ciLCJjbGVhcklucHV0cyIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInllYXIiLCJtc2ciLCJjaGVja0Zyb20iLCJlbCIsInBsYWNlaG9sZGVyIiwidGV4dENvbnRlbnQiLCJjbGVhckVycm9yIiwiY2hlY2tMZW5ndGgiLCJ2YWx1ZSIsImVtYWlsIiwiY2hlY2tFcnJvcnMiLCJlcnJvckNvdW50IiwibWluIiwibGVuZ3RoIiwiaW5uZXJUZXh0Iiwic2xpY2UiLCJjbG9zZVBvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0ZXN0IiwiYWxsSW5wdXRzIiwiaGFuZGxlTmF2IiwicHJldmVudERlZmF1bHQiLCJjaGVja01h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QkFBa0IsRUFDbEJWLE9BQU9vQyxpQkFBaUIsT0FBUWpDLG9CQUFvQixFQUNwRDlCLE9BQU8rRCxpQkFBaUIsUUFBU0ksU0FBUyxFQUMxQ3hDLE9BQU9vQyxpQkFBaUIsU0FBVTlCLGVBQWUsRUFDakR0QixZQUFZb0QsaUJBQWlCLFFBQVMsU0FBQ0MsR0FDdENBLEVBQUVJLGVBQWUsRUFFakJwQixVQUFVLENBQUN4QyxTQUFVQyxVQUFXQyxRQUFRLEVBQ3hDMkMsWUFBWTdDLFNBQVUsQ0FBQyxFQUN2QjZELFVBQVU1RCxTQUFTLEVBQ25CNEMsWUFBWTNDLFFBQVMsQ0FBQyxFQUN0QjhDLFlBQVksRUFDWmIsWUFBWSxDQUFDbkMsU0FBVUMsVUFBV0MsUUFBUSxDQUMzQyxDQUFDLEVBQ0RHLGNBQWNrRCxpQkFBaUIsUUFBU0QsVUFBVSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9faXRlbXMnKTtcclxuY29uc3QgbmF2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG4nKTtcclxuY29uc3QgYWxsTmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtJyk7XHJcbmNvbnN0IG5hdkhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKTtcclxuY29uc3Qgc2Nyb2xsU3B5U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpO1xyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9feWVhcicpO1xyXG5jb25zdCBidXJnZXJCYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG5fX2JhcnMnKTtcclxuY29uc3QgYnVyZ2VyQmFyc0NhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuX19iYXJzLWNhbmNlbCcpO1xyXG5jb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XHJcbmNvbnN0IHVzZXJFbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpO1xyXG5jb25zdCB1c2VyTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZycpO1xyXG5jb25zdCBmb3JtU2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWJ0bicpO1xyXG5jb25zdCBwb3B1cENvbnRhY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fcG9wdXAnKTtcclxuY29uc3QgY2xvc2VCdG5Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19wb3B1cC1jbG9zZScpO1xyXG5cclxuLy8gTk9URTogZG9weXRhxIcgY3p5IHRvIGplc3QgZG9icnkgc3Bvc8OzYiBuYSBzY3JvbGxQYWRkaW5nVG9wXHJcbmNvbnN0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJyk7XHJcbmh0bWwuc3R5bGUuc2Nyb2xsUGFkZGluZ1RvcCA9IG5hdkhlaWdodC5vZmZzZXRIZWlnaHQgLSAyICsgJ3B4JztcclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuXHRuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LS1hY3RpdmUnKTtcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ3N0aWNreS1ib2R5Jyk7XHJcblx0YnVyZ2VyQmFycy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlLWJ0bicpO1xyXG5cdGJ1cmdlckJhcnNDYW5jZWwuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1idG4nKTtcclxuXHJcblx0YWxsTmF2SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tYWN0aXZlJyk7XHJcblx0XHRcdGJ1cmdlckJhcnMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1idG4nKTtcclxuXHRcdFx0YnVyZ2VyQmFyc0NhbmNlbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWJ0bicpO1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0aWNreS1ib2R5Jyk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxufTtcclxuXHJcbi8vIENIQU5HRVM6IELFgcSERCB6IHd5xZt3aWV0bGFuaWVtIHNjcm9sbCBzcHkgXCJvZmVydGFcIiBqdcW8IG5hIHpkasSZY2l1IFwicHJ6eWdvZGEgZGxhIGNhxYJlaiByb2R6aW55XCIgb3JheiBkb2RhbmllIGtsYXN5IGRvcGllcm8gcG8gcGllcndzenltIHNjcm9sbHVcclxuXHJcbmNvbnN0IGhvbWVTZWN0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IHNlY3Rpb25zID0gW107XHJcblxyXG5cdHNjcm9sbFNweVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuXHRcdGlmIChcclxuXHRcdFx0d2luZG93LnNjcm9sbFkgPD1cclxuXHRcdFx0c2VjdGlvbi5vZmZzZXRUb3AgKyBzZWN0aW9uLm9mZnNldEhlaWdodCAtIG5hdkhlaWdodC5vZmZzZXRIZWlnaHRcclxuXHRcdCkge1xyXG5cdFx0XHRzZWN0aW9ucy5wdXNoKHNlY3Rpb24pO1xyXG5cclxuXHRcdFx0Y29uc3QgYWN0aXZlU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0YFtocmVmKj1cIiR7c2VjdGlvbnNbMF0uaWR9XCJdYFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0YWN0aXZlU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzY3JvbGwtc3B5LWFjdGl2ZScpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlU2Nyb2xsU3B5U3RhcnQgPSAoKSA9PiB7XHJcblx0YWxsTmF2SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtc3B5LWFjdGl2ZScpO1xyXG5cdH0pO1xyXG5cdGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1wYWdlJykpIHtcclxuXHRcdGhvbWVTZWN0aW9uKCk7XHJcblx0fSBlbHNlIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnb2ZmZXJzLXBhZ2UnKSkge1xyXG5cdFx0YWxsTmF2SXRlbXNbMl0uY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLXNweS1hY3RpdmUnKTtcclxuXHR9IGVsc2UgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb250YWN0LXBhZ2UnKSkge1xyXG5cdFx0YWxsTmF2SXRlbXNbM10uY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLXNweS1hY3RpdmUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVTY3JvbGxTcHkgPSAoKSA9PiB7XHJcblx0aWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLXBhZ2UnKSkge1xyXG5cdFx0YWxsTmF2SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbC1zcHktYWN0aXZlJyk7XHJcblx0XHR9KTtcclxuXHRcdGhvbWVTZWN0aW9uKCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XHJcbn07XHJcblxyXG5jb25zdCBzaG93RXJyb3IgPSAoaW5wdXQsIG1zZykgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1ib3gtZXJyb3ItdGV4dCcpO1xyXG5cclxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2c7XHJcbn07XHJcblxyXG5jb25zdCBjbGVhckVycm9yID0gKGlucHV0KSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSAoaW5wdXQpID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0ZWwudmFsdWUgPSAnJztcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRnJvbSA9IChpbnB1dCkgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRpZiAoZWwudmFsdWUgPT09ICcnKSB7XHJcblx0XHRcdHNob3dFcnJvcihlbCwgZWwucGxhY2Vob2xkZXIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0xlbmd0aCA9IChpbnB1dCwgbWluKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA+IDAgJiYgaW5wdXQudmFsdWUubGVuZ3RoIDwgbWluKSB7XHJcblx0XHRzaG93RXJyb3IoXHJcblx0XHRcdGlucHV0LFxyXG5cdFx0XHRgJHtpbnB1dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlubmVyVGV4dC5zbGljZShcclxuXHRcdFx0XHQwLFxyXG5cdFx0XHRcdC0xXHJcblx0XHRcdCl9IHBvd2lubm8gc2vFgmFkYcSHIHNpxJkgeiBtaW4uICR7bWlufSBsaXRlci5gXHJcblx0XHQpO1xyXG5cdFx0c2hvd0Vycm9yKFxyXG5cdFx0XHR1c2VyTXNnLFxyXG5cdFx0XHRgJHt1c2VyTXNnLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuaW5uZXJUZXh0LnNsaWNlKFxyXG5cdFx0XHRcdDAsXHJcblx0XHRcdFx0LTFcclxuXHRcdFx0KX0gcG93aW5uYSB6YXdpZXJhxIcgbWluLiAke21pbn0gem5ha2kuYFxyXG5cdFx0KTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja01haWwgPSAoZW1haWwpID0+IHtcclxuXHRjb25zdCByZSA9XHJcblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8LihcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xyXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihlbWFpbCwgJ0UtbWFpbCBqZXN0IG5pZXBvcHJhd255Jyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3RfX2Zvcm0tYm94Jyk7XHJcblx0bGV0IGVycm9yQ291bnQgPSAwO1xyXG5cclxuXHRhbGxJbnB1dHMuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0cG9wdXBDb250YWN0LmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX3BvcHVwLXNob3cnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZVBvcHVwID0gKCkgPT4ge1xyXG5cdHBvcHVwQ29udGFjdC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0X19wb3B1cC1zaG93Jyk7XHJcbn07XHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGhhbmRsZVNjcm9sbFNweVN0YXJ0KTtcclxubmF2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2KTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbFNweSk7XHJcbmZvcm1TZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGNoZWNrRnJvbShbdXNlck5hbWUsIHVzZXJFbWFpbCwgdXNlck1zZ10pO1xyXG5cdGNoZWNrTGVuZ3RoKHVzZXJOYW1lLCAyKTtcclxuXHRjaGVja01haWwodXNlckVtYWlsKTtcclxuXHRjaGVja0xlbmd0aCh1c2VyTXNnLCAzKTtcclxuXHRjaGVja0Vycm9ycygpO1xyXG5cdGNsZWFySW5wdXRzKFt1c2VyTmFtZSwgdXNlckVtYWlsLCB1c2VyTXNnXSk7XHJcbn0pO1xyXG5jbG9zZUJ0blBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cCk7XHJcbiJdfQ==
